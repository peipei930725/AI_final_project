# 說明文件、操作說明及實作心得

### 簡介

這是一個基於 TF-IDF 演算法的簡單搜尋引擎，使用 Python 語言實作。該搜尋引擎能夠從指定目錄中的 JSON 檔案中載入資料，並對這些資料進行分詞、預處理、構建倒排索引，最終實現查詢功能。

### 使用說明

1. 準備資料
   將所有 JSON 資料檔案放置在 news 目錄中。每個 JSON 檔案應包含與股票代碼相關的新聞資料。

2. 執行程式
   在終端機中執行以下命令來啟動搜尋引擎：

3. 互動式搜尋
   啟動程式後，您可以在提示符下輸入查詢關鍵字，搜尋引擎將返回與查詢匹配的結果。輸入 exit 可以退出程式。

4. 結果顯示
   搜尋結果將顯示前 20 個匹配的文件，並將查詢關鍵字標註為紅色。每個結果包含股票代碼、日期、新聞內容和匹配分數。

### 程式碼說明

    資料載入
    load_json(file_path) 和 load_text(file_path) 函數分別用於載入 JSON 檔案和純文字檔案。load_all_data_from_dir(directory) 函數遍歷指定目錄中的所有 JSON 檔案，並將其載入為字典。

    資料預處理
    preprocess(text) 函數對文字進行分詞並移除停用詞和介系詞。根據是否啟用 Paddle 模式，選擇不同的分詞方式。

    倒排索引構建
    build_inverted_index(data) 函數從多股票 JSON 資料構建倒排索引。該函數遍歷每支股票的資料，對每篇文章進行分詞和預處理，並構建倒排索引。

    搜尋實作
    search(query, index, documents) 函數使用 TF-IDF 演算法計算查詢與文件的匹配分數，並返回排序後的結果。

    結果顯示
    display_results(results, documents, query_tokens) 函數顯示搜尋結果，並將查詢關鍵字標註為紅色。

### 心得

    實作這個搜尋引擎時，在環境的建置還有環境的建置還有 jieba 的使用遇到很多問題，切詞有時候不是按照想要的，然後評分有時候不知道在幹嘛，雖然我有大量使用生成式 AI 來實作此專題，但中途因為遇到很多問題所以也把有關 TF-IDF，分詞系統，輸入預處理等東西搞懂，也讓我更加了解搜尋引擎的原理。
